<!DOCTYPE html>
<html lang="en">
    <head>
        <title>VolgaCTF 2015 Quals</title>

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="//cdn.{{ domain }}/css/bootstrap.css">
        <link rel="stylesheet" href="//cdn.{{ domain }}/css/font-awesome.css">
        <link rel="stylesheet" href="//cdn.{{ domain }}/css/themis.css">

        <script type="text/x-metadata" data-name="domain-api" data-value="//api.{{ domain }}"></script>

        <script src="//cdn.{{ domain }}/js/require.js" data-main='//cdn.{{ domain }}/js/themis.js'></script>
    </head>
    <body>
        <div class="navbar navbar-default navbar-static-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#themis-navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="/" class="navbar-brand" data-push-history>VolgaCTF Quals 2015</a>
                </div>
                <div id="themis-navbar" class="collapse navbar-collapse">
                </div>
            </div>
        </div>

        <div id="main">
        </div>

        <footer class="footer">
            <div class="container">
                <div class="col-sm-4">
                    <p><i class="fa fa-copyright"></i> 2015, Alexander Pyatkin and contributors</p>
                </div>
                <div class="col-sm-4 col-sm-offset-4">
                    <ul class="list-unstyled text-right">
                        <li><a href="http://volgactf.ru" target="_blank">volgactf.ru</a>&nbsp;<i class="fa fa-info-circle"></i></li>
                        <li><a href="https://twitter.com/VolgaCTF" target="_blank">@VolgaCTF</a>&nbsp;<i class="fa fa-twitter"></i></li>
                    </ul>
                </div>
            </div>
        </footer>

        <div class="themis-partials">
            <script type="text/x-template" data-name="navbar">
                <ul class="nav navbar-nav">
                    <% if (show.news) { %>
                    <li class="<% print((active === 'news') ? 'active' : ''); %>"><a href="/news" data-push-history>News</a></li>
                    <% } %>
                    <% if (show.about) { %>
                    <li class="<% print((active === 'about') ? 'active' : ''); %>"><a href="/about" data-push-history>About</a></li>
                    <% } %>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <% if (identity === null || identity.role === 'guest') { %>
                    <li class="<% print((active === 'signin') ? 'active' : ''); %>"><a href="/signin" data-push-history>Sign in</a></li>
                    <% } else { %>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                            <% if (identity.role === 'admin') { %>
                            <span class="label label-success">A</span>
                            <% } else if (identity.role === 'manager') { %>
                            <span class="label label-primary">M</span>
                            <% } else if (identity.role === 'team') { %>
                            <% } %>
                            <%- identity.name %>&nbsp;<span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="#">Edit profile</a></li>
                            <li><a href="#" data-action="signout" data-push-history>Sign out</a></li>
                        </ul>
                    </li>
                    <% } %>
                </ul>
            </script>

            <script type="text/x-template" data-name="news-view">
                <div class="container">
                    <header>
                        <h1>News</h1>
                    </header>
                    <section>
                    </section>
                </div>
            </script>

            <script type="text/x-template" data-name="about-view">
                <div class="container">
                    <header>
                        <h1>About</h1>
                    </header>
                    <section>
                    </section>
                </div>
            </script>

            <script type="text/x-template" data-name="not-found-view">
                <div class="container">
                    <header>
                        <h1>Not Found</h1>
                    </header>
                    <section>
                        <p class="lead">We are really sorry, but there is no <mark><%- urlPath %></mark> page.</p>
                    </section>
                </div>
            </script>

            <script type="text/x-template" data-name="index-view">
                <div class="container">
                    <% if (identity.role === 'guest') { %>
                    <div class="jumbotron">
                        <h1>Hello!</h1>
                        <p>Welcome to VolgaCTF 2015 Quals!</p>
                        <p>VolgaCTF is an inter-regional inter-university open computer security contest.</p>
                        <p>Interested? Please register for the competition!</p>
                        <p>
                            <a class="btn btn-primary btn-lg" href="/signup" role="button" data-push-history>Sign up</a>
                            <a class="btn btn-success btn-lg" href="/signin" role="button" data-push-history>Sign in</a>
                        </p>
                    </div>
                    <% } else if (identity.role === 'team') { %>
                    <h1>Scoreboard</h1>
                    <% } else if (identity.role === 'manager' || identity.role === 'admin') { %>
                    <h1>Control</h1>
                    <% } %>
                </div>
            </script>

            <script type="text/x-template" data-name="signin-view">
                <div class="container">
                    <form class="themis-form-signin" method="POST" action="//api.{{ domain }}/team/signin">
                        <h1>Please sign in</h1>
                        <label for="signin-team" class="sr-only">Team</label>
                        <input type="text" id="signin-team" name="team" class="form-control" placeholder="Team" required autofocus>
                        <label for="signin-password" class="sr-only">Password</label>
                        <input type="password" id="signin-password" name="password" class="form-control" placeholder="Password" required>
                        <div class="submit-error">
                            <p class="text-danger"></p>
                        </div>
                        <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
                    </form>
                </div>
            </script>

            <script type="text/x-template" data-name="internal-error">
                <div class="container">
                    <header>
                        <h1>Internal error</h1>
                    </header>
                    <section>
                        <p class="lead">An internal error occured. That&#39;s all we know.</p>
                    </section>
                </div>
            </script>

            <script type="text/x-template" data-name="already-authenticated">
                <div class="container">
                    <header>
                        <h1>Already authenticated</h1>
                    </header>
                    <section>
                        <p class="lead">You have already been authenticated. Please navigate to another page.</p>
                    </section>
                </div>
            </script>

            <script type="text/x-template" data-name="login-view">
                <div class="container">
                    <form class="themis-form-login" method="POST" action="//api.{{ domain }}/login">
                        <h1>Please log in</h1>
                        <label for="login-team" class="sr-only">Username</label>
                        <input type="text" id="login-username" name="username" class="form-control" placeholder="Username" required autofocus>
                        <label for="login-password" class="sr-only">Password</label>
                        <input type="password" id="login-password" name="password" class="form-control" placeholder="Password" required>
                        <div class="submit-error">
                            <p class="text-danger"></p>
                        </div>
                        <button class="btn btn-lg btn-primary btn-block" type="submit">Log in</button>
                    </form>
                </div>
            </script>

            <script type="text/x-template" data-name="signup-view">
                <div class="container">
                    <form class="form-horizontal themis-form-signup" method="POST" enctype="multipart/form-data" action="//api.{{ domain }}/team/signup">
                        <div class="form-group">
                            <div class="col-sm-offset-3 col-sm-9">
                                <h1>Sign up</h1>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="signup-team" class="col-sm-3 control-label">
                                Team&nbsp;<sup>*</sup>
                            </label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" id="signup-team" name="team" placeholder="Team" required autofocus>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="signup-email" class="col-sm-3 control-label">
                                Email&nbsp;<sup>*</sup>
                            </label>
                            <div class="col-sm-9">
                                <input type="email" class="form-control" id="signup-email" name="email" placeholder="Email" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="signup-password" class="col-sm-3 control-label">
                                Password&nbsp;<sup>*</sup>
                            </label>
                            <div class="col-sm-9">
                                <input type="password" class="form-control" id="signup-password" name="password" placeholder="Password" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="signup-password-confirm" class="col-sm-3 control-label">
                                Confirm password&nbsp;<sup>*</sup>
                            </label>
                            <div class="col-sm-9">
                                <input type="password" class="form-control" id="signup-password-confirm" placeholder="Confirm password" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="signup-logo" class="col-sm-3 control-label">
                                Logo&nbsp;<sup>*</sup>
                            </label>
                            <div class="col-sm-9">
                                <input type="file" id="signup-logo" name="logo" class="filestyle" data-buttonText="&nbsp;Choose file" data-iconName="glyphicon-picture" accept="image/jpeg,image/png,image/gif" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="signup-country" class="col-sm-3 control-label">
                                Country
                            </label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" id="signup-country" name="country" placeholder="Country">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="signup-locality" class="col-sm-3 control-label">
                                Locality
                            </label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" id="signup-locality" name="locality" placeholder="Locality">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="signup-institution" class="col-sm-3 control-label">
                                Institution
                            </label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" id="signup-institution" name="institution" placeholder="Institution">
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-offset-3 col-sm-9">
                                <button type="submit" class="btn btn-primary btn-lg">Sign up</button>
                            </div>
                        </div>
                    </form>
                </div>
            </script>
        </div>
    </body>
</html>
